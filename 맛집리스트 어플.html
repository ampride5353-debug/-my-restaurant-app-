<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì „êµ­ ë§›ì§‘ ì¶”ì²œ</title>
    
    <!-- PWA ì„¤ì • -->
    <link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIuygheq1rSDrp5ztsp1g7ZuUIC0g6riw7ZWY66qp6rCRIOy2lOyyniIsIAogICJzaG9ydF9uYW1lIjogIu2VmeuTpHJQ44yCIiwKICAiZGVzY3JpcHRpb24iOiAi6riw7Zuj64WMKGq0m+yynjvsl7hj7JekIHkv6rOg7LaUIOunieKvlOmdhOybhIf'byIiwog7IILOA%3D%3D">
    <meta name="theme-color" content="#3b82f6">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="ë§›ì§‘ì¶”ì²œ">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #f9fafb;
            color: #1f2937;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 30px;
            margin-bottom: 20px;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: #3b82f6;
            color: white;
        }
        
        .btn-green {
            background: #10b981;
            color: white;
        }
        
        .btn-red {
            background: #ef4444;
            color: white;
        }
        
        .search-section {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .search-grid {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr;
            gap: 15px;
            align-items: center;
        }
        
        .search-input, .select-box {
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 16px;
        }
        
        .restaurants-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
        }
        
        .restaurant-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 25px;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .restaurant-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .restaurant-name {
            font-size: 1.5rem;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 10px;
        }
        
        .region-tag {
            background: #dbeafe;
            color: #1e40af;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 10px;
        }
        
        .category-tag {
            background: #f3f4f6;
            color: #374151;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            display: inline-block;
            margin-bottom: 10px;
            margin-left: 5px;
        }
        
        .rating {
            color: #fbbf24;
            margin-bottom: 10px;
        }
        
        .specialty {
            color: #ea580c;
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        .description {
            color: #6b7280;
            font-size: 0.9rem;
            margin-bottom: 15px;
        }
        
        .price {
            color: #059669;
            font-weight: 600;
            margin-bottom: 15px;
        }
        
        .criteria {
            margin-bottom: 15px;
        }
        
        .criteria-tag {
            background: #fef3c7;
            color: #92400e;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            margin-right: 5px;
            margin-bottom: 5px;
            display: inline-block;
        }
        
        .map-btn {
            width: 100%;
            background: #10b981;
            color: white;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .map-btn:hover {
            background: #059669;
        }
        
        .admin-section {
            background: #f0fdf4;
            border: 2px solid #bbf7d0;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            display: none;
        }
        
        .form-section {
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 30px;
            margin-bottom: 20px;
            display: none;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .form-input, .form-select {
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 16px;
        }
        
        .form-textarea {
            grid-column: 1 / -1;
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 16px;
            min-height: 80px;
            resize: vertical;
        }
        
        .admin-actions {
            display: flex;
            gap: 5px;
            float: right;
        }
        
        .icon-btn {
            padding: 5px 8px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            background: #f3f4f6;
            transition: background 0.2s;
        }
        
        .icon-btn:hover {
            background: #e5e7eb;
        }
        
        .status {
            background: #dbeafe;
            color: #1e40af;
            padding: 10px 15px;
            border-radius: 8px;
            text-align: center;
            font-weight: 600;
        }
        
        .install-banner {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 20px;
            text-align: center;
            display: none;
        }
        
        @media (max-width: 768px) {
            .search-grid {
                grid-template-columns: 1fr;
            }
            .form-grid {
                grid-template-columns: 1fr;
            }
            .restaurants-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- PWA ì„¤ì¹˜ ë°°ë„ˆ -->
<!-- ì„¤ì¹˜ ë°°ë„ˆ ë¶€ë¶„ì„ ì´ë ‡ê²Œ ìˆ˜ì •í•˜ì„¸ìš” -->
<div id="install-banner" class="install-banner">
    <h3>ğŸ“± ë°”íƒ•í™”ë©´ì— ì¶”ê°€í•˜ê¸°</h3>
    <p>ë¸Œë¼ìš°ì € ë¶ë§ˆí¬ë¡œ ë¹ ë¥´ê²Œ ì ‘ê·¼í•˜ì„¸ìš”!</p>
    <button class="btn" style="background: rgba(255,255,255,0.2); color: white; margin-top: 10px;" onclick="showInstallInstructions()">
        ì„¤ì¹˜ ë°©ë²• ë³´ê¸°
    </button>
</div>

        <!-- í—¤ë” -->
        <div class="header">
            <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                <div>
                    <h1>ğŸ½ï¸ ì „êµ­ ë§›ì§‘ ì¶”ì²œ</h1>
                    <p style="color: #6b7280; margin-bottom: 10px;">ì—„ì„ ëœ ë§›ì§‘ë§Œì„ ì†Œê°œí•©ë‹ˆë‹¤. ì •ë§ ë§›ìˆëŠ” ê³³ë§Œ ì¶”ì²œí•´ë“œë ¤ìš”!</p>
                    <div style="font-size: 0.9rem; color: #3b82f6;">
                        ì´ <strong id="total-count">0</strong>ê°œì˜ ë§›ì§‘ | ë„¤ì´ë²„ ì§€ë„ ì—°ë™ | ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
                    </div>
                </div>
                <button class="btn btn-primary" onclick="toggleAdmin()">
                    âš™ï¸ <span id="admin-text">ê´€ë¦¬ëª¨ë“œ ON</span>
                </button>
            </div>
        </div>

        <!-- ê´€ë¦¬ì ëª¨ë“œ -->
        <div id="admin-section" class="admin-section">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <h3 style="color: #166534; margin-bottom: 5px;">ğŸ‘¨â€ğŸ’¼ ê´€ë¦¬ì ëª¨ë“œ</h3>
                    <p style="color: #059669;">ìƒˆë¡œìš´ ë§›ì§‘ì„ ì¶”ê°€í•˜ê±°ë‚˜ ê¸°ì¡´ ë§›ì§‘ì„ ìˆ˜ì •/ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                </div>
                <div style="display: flex; gap: 10px;">
                    <button class="btn btn-green" onclick="showForm()">
                        â• ìƒˆ ë§›ì§‘ ì¶”ê°€
                    </button>
                    <button class="btn btn-primary" onclick="showRegionForm()">
                        ğŸ¢ ì§€ì—­ ì¶”ê°€
                    </button>
                </div>
            </div>
        </div>

        <!-- ì§€ì—­ ì¶”ê°€ í¼ -->
        <div id="region-form" class="form-section">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
                <h3>ğŸ¢ ìƒˆ ì§€ì—­ ì¶”ê°€</h3>
                <button style="background: none; border: none; font-size: 1.5rem; cursor: pointer;" onclick="hideRegionForm()">âŒ</button>
            </div>
            
            <input type="text" id="new-region" class="form-input" placeholder="ìƒˆ ì§€ì—­ëª… (ì˜ˆ: ë¶€ì‚°, ì„œìš¸, ì œì£¼)">
            
            <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 15px;">
                <button class="btn" style="background: #6b7280; color: white;" onclick="hideRegionForm()">ì·¨ì†Œ</button>
                <button class="btn btn-primary" onclick="addRegion()">ğŸ¢ ì§€ì—­ ì¶”ê°€</button>
            </div>
        </div>

        <!-- ë§›ì§‘ ì¶”ê°€ í¼ -->
        <div id="add-form" class="form-section">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
                <h3 id="form-title">âœ¨ ìƒˆ ë§›ì§‘ ì¶”ê°€</h3>
                <button style="background: none; border: none; font-size: 1.5rem; cursor: pointer;" onclick="hideForm()">âŒ</button>
            </div>
            
            <div class="form-grid">
                <input type="text" id="name" class="form-input" placeholder="ë§›ì§‘ëª… (í•„ìˆ˜)">
                <select id="region" class="form-select">
                    <option value="">ì§€ì—­ ì„ íƒ (í•„ìˆ˜)</option>
                </select>
                <select id="category" class="form-select">
                    <option value="">ì¹´í…Œê³ ë¦¬ ì„ íƒ</option>
                    <option value="í•œì‹">í•œì‹</option>
                    <option value="ì¤‘ì‹">ì¤‘ì‹</option>
                    <option value="ì¼ì‹">ì¼ì‹</option>
                    <option value="ì–‘ì‹">ì–‘ì‹</option>
                    <option value="ë² ì´ì»¤ë¦¬">ë² ì´ì»¤ë¦¬</option>
                    <option value="ë¸ŒëŸ°ì¹˜">ë¸ŒëŸ°ì¹˜</option>
                    <option value="ì¹´í˜">ì¹´í˜</option>
                    <option value="ê³ ê¸°">ê³ ê¸°</option>
                    <option value="ë™ë‚¨ì•„">ë™ë‚¨ì•„</option>
                    <option value="ë¶„ì‹">ë¶„ì‹</option>
                    <option value="ì¹˜í‚¨">ì¹˜í‚¨</option>
                    <option value="í•´ì‚°ë¬¼">í•´ì‚°ë¬¼</option>
                    <option value="ë·”í˜">ë·”í˜</option>
                </select>
                <input type="text" id="specialty" class="form-input" placeholder="ëŒ€í‘œë©”ë‰´ (í•„ìˆ˜)">
                <input type="text" id="price" class="form-input" placeholder="ê°€ê²©ëŒ€ (ì˜ˆ: 8,000ì›~12,000ì›)">
                <select id="rating" class="form-select">
                    <option value="5">â­â­â­â­â­ (5ì  - ê¼­ ê°€ë´ì•¼ í•  ë§›ì§‘)</option>
                    <option value="4.5">â­â­â­â­â­ (4.5ì  - ê°•ë ¥ ì¶”ì²œ)</option>
                    <option value="4">â­â­â­â­â˜† (4ì  - ì¶”ì²œ)</option>
                    <option value="3.5">â­â­â­â­ (3.5ì  - ê´œì°®ìŒ)</option>
                </select>
                <input type="text" id="address" class="form-input" placeholder="ìƒì„¸ì£¼ì†Œ">
                <input type="text" id="phone" class="form-input" placeholder="ì „í™”ë²ˆí˜¸">
                <input type="text" id="hours" class="form-input" placeholder="ì˜ì—…ì‹œê°„ (ì˜ˆ: 09:00-21:00)">
                <input type="text" id="parking" class="form-input" placeholder="ì£¼ì°¨ ì •ë³´">
                <textarea id="description" class="form-textarea" placeholder="ë§›ì§‘ ìƒì„¸ ì„¤ëª…"></textarea>
                <textarea id="menu-details" class="form-textarea" placeholder="ìƒì„¸ ë©”ë‰´ ì •ë³´"></textarea>
            </div>
            
            <div style="display: flex; gap: 10px; justify-content: flex-end;">
                <button class="btn" style="background: #6b7280; color: white;" onclick="hideForm()">ì·¨ì†Œ</button>
                <button class="btn btn-primary" onclick="saveRestaurant()">
                    ğŸ’¾ <span id="save-btn-text">ë§›ì§‘ ì¶”ê°€</span>
                </button>
            </div>
        </div>

        <!-- ê²€ìƒ‰ ì„¹ì…˜ -->
        <div class="search-section">
            <div class="search-grid">
                <input type="text" id="search" class="search-input" placeholder="ğŸ” ë§›ì§‘ëª…, ë©”ë‰´, ì§€ì—­ ê²€ìƒ‰..." onkeyup="filterRestaurants()">
                <select id="region-filter" class="select-box" onchange="filterRestaurants()">
                    <option value="">ì „ì²´ ì§€ì—­</option>
                </select>
                <div class="status">
                    ğŸ”§ <span id="filtered-count">0</span>ê°œ ë§›ì§‘
                </div>
            </div>
        </div>

        <!-- ë§›ì§‘ ë¦¬ìŠ¤íŠ¸ -->
        <div id="restaurants-container" class="restaurants-grid">
            <!-- ì—¬ê¸°ì— ë§›ì§‘ë“¤ì´ í‘œì‹œë©ë‹ˆë‹¤ -->
        </div>

        <!-- ê²€ìƒ‰ ê²°ê³¼ ì—†ìŒ -->
        <div id="no-results" style="display: none; text-align: center; padding: 50px; color: #6b7280;">
            <div style="font-size: 4rem; margin-bottom: 20px;">ğŸ”</div>
            <h3 style="margin-bottom: 10px;">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</h3>
            <p>ë‹¤ë¥¸ ê²€ìƒ‰ì–´ë‚˜ í•„í„°ë¥¼ ì‹œë„í•´ë³´ì„¸ìš”.</p>
        </div>
    </div>

    <script>
        // ì „êµ­ ì§€ì—­ ë¦¬ìŠ¤íŠ¸ (í™•ì¥ ê°€ëŠ¥)
        let availableRegions = [
            'ëŒ€ì „', 'ê³„ë£¡', 'ë…¼ì‚°', 'ê³µì£¼', 'ë™í•™ì‚¬', 'ì„œì‚°', 'íƒœì•ˆ', 'ì„¸ì¢…', 'ì²œì•ˆ', 'ì•„ì‚°',
            'ì„œìš¸', 'ë¶€ì‚°', 'ëŒ€êµ¬', 'ì¸ì²œ', 'ê´‘ì£¼', 'ìš¸ì‚°', 'ìˆ˜ì›', 'ì„±ë‚¨', 'ê³ ì–‘', 'ìš©ì¸',
            'ë¶€ì²œ', 'ì•ˆì‚°', 'ì•ˆì–‘', 'ë‚¨ì–‘ì£¼', 'í™”ì„±', 'í‰íƒ', 'ì˜ì •ë¶€', 'ì‹œí¥', 'íŒŒì£¼', 'ê¹€í¬',
            'ì œì£¼', 'ê°•ë¦‰', 'ì¶˜ì²œ', 'ì›ì£¼', 'ì „ì£¼', 'í¬í•­', 'ì°½ì›', 'ë§ˆì‚°', 'ì§„í•´', 'ìˆœì²œ'
        ];

        // í’ë¶€í•œ ë§›ì§‘ ë°ì´í„°
        let restaurants = [
            {
                id: 1,
                name: 'ì„±ì‹¬ë‹¹',
                region: 'ëŒ€ì „',
                category: 'ë² ì´ì»¤ë¦¬',
                specialty: 'íŠ€ê¹€ì†Œë³´ë¡œ, ë¶€ì¶”ë¹µ',
                price: '2,000ì›~5,000ì›',
                rating: 5,
                address: 'ëŒ€ì „ê´‘ì—­ì‹œ ì¤‘êµ¬ ì€í–‰ë™ 145',
                phone: '042-253-8069',
                hours: '09:00-22:00',
                parking: 'ì£¼ì°¨ ê°€ëŠ¥',
                description: '1956ë…„ë¶€í„° ì´ì–´ì˜¨ ëŒ€ì „ì˜ ëŒ€í‘œ ë² ì´ì»¤ë¦¬, ì „êµ­ 3ëŒ€ ë¹µì§‘. íŠ€ê¹€ì†Œë³´ë¡œëŠ” íŠ¹í—ˆë°›ì€ ë ˆì‹œí”¼ë¡œ ìœ ëª….',
                menuDetails: 'íŠ€ê¹€ì†Œë³´ë¡œ 1,800ì›, ë¶€ì¶”ë¹µ 1,500ì›, ë³´ë¬¸ì‚°ë©”ì•„ë¦¬ 12,000ì›, ë”¸ê¸°ì‹œë£¨ 18,000ì›',
                criteria: ['ì „êµ­êµ¬ ëª…ì„±', '60ë…„ ì „í†µ', 'íŠ¹í—ˆë°›ì€ ë ˆì‹œí”¼', 'ëŒ€ì „ ìƒì§•']
            },
            {
                id: 2,
                name: 'íƒœí‰ì†Œêµ­ë°¥',
                region: 'ëŒ€ì „',
                category: 'í•œì‹',
                specialty: 'ì†Œêµ­ë°¥, ë‚´ì¥íƒ•',
                price: '8,500ì›~12,000ì›',
                rating: 5,
                address: 'ëŒ€ì „ê´‘ì—­ì‹œ ì¤‘êµ¬ íƒœí‰ë™ 423-5',
                phone: '042-253-5941',
                hours: '05:00-20:00 (ì¼ìš”ì¼ íœ´ë¬´)',
                parking: 'ì£¼ì°¨ ì–´ë ¤ì›€',
                description: 'ì „êµ­ì—ì„œ ì°¾ì•„ì˜¤ëŠ” ì†Œêµ­ë°¥ ëª…ê°€, TV ë‹¤ìˆ˜ ì¶œì—°. ìƒˆë²½ 5ì‹œë¶€í„° ì˜ì—…í•˜ëŠ” ì§„ì§œ í˜„ì§€ì¸ ë§›ì§‘.',
                menuDetails: 'ì†Œêµ­ë°¥ 8,500ì›, ë‚´ì¥íƒ• 9,000ì›, ê³°íƒ• 10,000ì›, ìœ¡ì‚¬ì‹œë¯¸ 12,000ì›',
                criteria: ['ì „êµ­êµ¬ ëª…ì„±', 'í˜„ì§€ì¸ ì¸ì¦', 'TV ì¶œì—°', 'ê¹Šì€ êµ­ë¬¼ë§›', 'ìƒˆë²½ ì˜ì—…']
            },
            {
                id: 3,
                name: 'ëŒ€ì„ ì¹¼êµ­ìˆ˜',
                region: 'ëŒ€ì „',
                category: 'í•œì‹',
                specialty: 'ì¹¼êµ­ìˆ˜, ë¹„ë¹”êµ­ìˆ˜',
                price: '7,000ì›~12,000ì›',
                rating: 4.5,
                address: 'ëŒ€ì „ê´‘ì—­ì‹œ ì„œêµ¬ ë‘”ì‚°ì¤‘ë¡œ40ë²ˆê¸¸ 28',
                phone: '042-489-6400',
                hours: '11:00-21:00',
                parking: 'ì£¼ì°¨ ê°€ëŠ¥ (30ëŒ€)',
                description: '60ë…„ ì „í†µì˜ ì¹¼êµ­ìˆ˜ ì „ë¬¸ì , ìœ ëª…ì¸ ì‚¬ì¸ ë‹¤ìˆ˜. ë©¸ì¹˜ ë‹¤ì‹œë§ˆë¡œ 14ì‹œê°„ ìš°ë¦° ê¹Šì€ ìœ¡ìˆ˜ê°€ ìë‘.',
                menuDetails: 'ì¹¼êµ­ìˆ˜ 7,000ì›, ë¹„ë¹”êµ­ìˆ˜ 8,000ì›, ë§Œë‘ 6,000ì›, í•´ë¬¼íŒŒì „ 12,000ì›',
                criteria: ['60ë…„ ì „í†µ', 'ìœ ëª…ì¸ ì¸ì¦', 'ë°©ì†¡ ì¶œì—°', 'ê¹Šì€ ìœ¡ìˆ˜', 'ë„“ì€ ì£¼ì°¨ì¥']
            },
            {
                id: 4,
                name: 'í†³í†³ ë‘”ì‚°ë³¸ì ',
                region: 'ëŒ€ì „',
                category: 'ë™ë‚¨ì•„',
                specialty: 'ì‹±ê°€í´ì¹ ë¦¬í¬ë©, ë­ìŒ¥, ë²„í„°ì‹œë¦¬ì–¼ìƒˆìš°',
                price: '15,000ì›~45,000ì›',
                rating: 5,
                address: 'ëŒ€ì „ê´‘ì—­ì‹œ ì„œêµ¬ ë‘”ì‚°ë™ 1364',
                phone: '042-488-8822',
                hours: '17:00-02:00 (ì›”ìš”ì¼ íœ´ë¬´)',
                parking: 'ë°œë ›íŒŒí‚¹ ì„œë¹„ìŠ¤',
                description: 'ì„±ì‹œê²½ë„ ë‹¤ë…€ê°„ ë™ë‚¨ì•„ ìš”ë¦¬ ì „ë¬¸ì . ì‹±ê°€í´ í˜„ì§€ ë§›ì„ ê·¸ëŒ€ë¡œ ì¬í˜„í•œ ì •í†µ ë™ë‚¨ì•„ ë ˆìŠ¤í† ë‘.',
                menuDetails: 'ì‹±ê°€í´ì¹ ë¦¬í¬ë© 45,000ì›, ë­ìŒ¥ 18,000ì›, ë²„í„°ì‹œë¦¬ì–¼ìƒˆìš° 22,000ì›, ì§í™”ìŒ€êµ­ìˆ˜ 12,000ì›',
                criteria: ['ì…€ëŸ½ ì¸ì¦', 'ì •í†µ ë§›', 'ë…íŠ¹í•œ ë©”ë‰´', 'ì•¼ê°„ ì˜ì—…', 'ë°œë ›íŒŒí‚¹']
            },
            {
                id: 5,
                name: 'ë³„ì²œì§€ìœ ëª…ê°€ë“ ',
                region: 'ë…¼ì‚°',
                category: 'í•œì‹',
                specialty: 'ê°ˆë¹„íƒ•, ê°ˆë¹„ì°œ',
                price: '12,000ì›~35,000ì›',
                rating: 4.5,
                address: 'ì¶©ì²­ë‚¨ë„ ë…¼ì‚°ì‹œ ì—°ì‚°ë©´ ê³ ì •ë¦¬',
                phone: '041-735-2233',
                hours: '10:00-21:00',
                parking: 'ë„“ì€ ì£¼ì°¨ì¥ ì™„ë¹„',
                description: 'ë…¼ì‚° ì—°ì‚° ì§€ì—­ ê°ˆë¹„íƒ• ëª…ê°€. 30ë…„ ì „í†µì˜ ê¹Šê³  ì§„í•œ ê°ˆë¹„íƒ•ìœ¼ë¡œ ìœ ëª…í•œ í˜„ì§€ ë§›ì§‘.',
                menuDetails: 'ê°ˆë¹„íƒ• 12,000ì›, ê°ˆë¹„ì°œ(ì¤‘) 35,000ì›, ê°ˆë¹„ì°œ(ëŒ€) 50,000ì›, ìœ¡ê°œì¥ 10,000ì›',
                criteria: ['30ë…„ ì „í†µ', 'ê¹Šì€ êµ­ë¬¼', 'í˜„ì§€ ëª…ì„±', 'ë„“ì€ ì£¼ì°¨ì¥']
            },
            {
                id: 6,
                name: 'ê°•ì§¬ë½•',
                region: 'ë…¼ì‚°',
                category: 'ì¤‘ì‹',
                specialty: 'í•´ë¬¼ì§¬ë½•, ì¸ì ˆë¯¸íƒ•ìˆ˜ìœ¡',
                price: '8,000ì›~18,000ì›',
                rating: 5,
                address: 'ì¶©ì²­ë‚¨ë„ ë…¼ì‚°ì‹œ ì‹œë¯¼ë¡œ 123',
                phone: '041-736-1234',
                hours: '11:00-21:00 (í™”ìš”ì¼ íœ´ë¬´)',
                parking: 'ì£¼ì°¨ ê°€ëŠ¥',
                description: 'í•´ë¬¼ì´ ë§ì´ ë“¤ì–´ê°„ ì§¬ë½•ìœ¼ë¡œ ìœ ëª…. íŠ¹íˆ ì¸ì ˆë¯¸íƒ•ìˆ˜ìœ¡ê³¼ ì‚¬ì²œíƒ•ìˆ˜ìœ¡ì´ ë…íŠ¹í•˜ê³  ë§›ìˆì–´ì„œ SNSì—ì„œ í™”ì œ.',
                menuDetails: 'í•´ë¬¼ì§¬ë½• 9,000ì›, ì¸ì ˆë¯¸íƒ•ìˆ˜ìœ¡ 15,000ì›, ì‚¬ì²œíƒ•ìˆ˜ìœ¡ 18,000ì›, ì§œì¥ë©´ 6,000ì›',
                criteria: ['í•´ë¬¼ ì‹ ì„ ë„', 'ë…íŠ¹í•œ ë©”ë‰´', 'í˜„ì§€ ì¸ê¸°', 'SNS í™”ì œ']
            },
            {
                id: 7,
                name: 'ë”´ëší†µë‚˜ë¬´ì§‘ì‹ë‹¹',
                region: 'íƒœì•ˆ',
                category: 'í•œì‹',
                specialty: 'ê²Œêµ­ì§€, ê½ƒê²Œíƒ•',
                price: '15,000ì›~30,000ì›',
                rating: 5,
                address: 'ì¶©ì²­ë‚¨ë„ íƒœì•ˆêµ° ì•ˆë©´ì ìŠ¹ì–¸ë¦¬',
                phone: '041-674-5678',
                hours: '10:00-20:00',
                parking: 'ì£¼ì°¨ì¥ ì™„ë¹„',
                description: 'ì•ˆë©´ë„ì—ì„œ ê²Œêµ­ì§€ë¥¼ ì²˜ìŒ íŒë§¤í•œ ì›ì¡° ë§›ì§‘. 1981ë…„ë¶€í„° ìš´ì˜í•´ì˜¨ íƒœì•ˆ ëŒ€í‘œ í–¥í† ìŒì‹ì .',
                menuDetails: 'ê²Œêµ­ì§€ 18,000ì›, ê½ƒê²Œíƒ• 25,000ì›, ìƒˆìš°ì “ ê²Œì¥ 30,000ì›, ë°”ì§€ë½ì¹¼êµ­ìˆ˜ 12,000ì›',
                criteria: ['ì›ì¡° ë§›ì§‘', 'ì§€ì—­ íŠ¹ì‚°ë¬¼', 'ì „í†µ ìš”ë¦¬', '40ë…„ ì—­ì‚¬', 'ì•ˆë©´ë„ ëŒ€í‘œ']
            },
            {
                id: 8,
                name: 'ì•ˆí¥ê½ƒê²Œì¥',
                region: 'ì„œì‚°',
                category: 'í•œì‹',
                specialty: 'ê°„ì¥ê²Œì¥, ì–‘ë…ê²Œì¥',
                price: '30,000ì›~60,000ì›',
                rating: 5,
                address: 'ì¶©ì²­ë‚¨ë„ ì„œì‚°ì‹œ ì•ˆí¥ë™',
                phone: '041-662-9999',
                hours: '09:00-20:00',
                parking: 'ì£¼ì°¨ ê°€ëŠ¥',
                description: '2025 ì¶©ë‚¨ ì„œì‚° ë°©ë¬¸ì˜ í•´ ê³µì‹ ì¸ì¦ ë§›ì§‘. ì•ˆí¥í•­ì—ì„œ ì¡ì€ ì‹ ì„ í•œ ê½ƒê²Œë¡œ ë§Œë“  ê°„ì¥ê²Œì¥ì´ ì¼í’ˆ.',
                menuDetails: 'ê°„ì¥ê²Œì¥ ì •ì‹ 35,000ì›, ì–‘ë…ê²Œì¥ ì •ì‹ 38,000ì›, ê½ƒê²Œíƒ• 25,000ì›',
                criteria: ['ê³µì‹ ì¸ì¦', 'ê°„ì¥ê²Œì¥ ì „ë¬¸', 'ì‹ ì„ í•œ ê½ƒê²Œ', 'ì•ˆí¥í•­ ì§ì†¡']
            }
        ];

        let isAdminMode = false;
        let editingId = null;
        let filteredRestaurants = [...restaurants];

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
        window.onload = function() {
            console.log('ğŸš€ ë§›ì§‘ ì•± ì‹œì‘!');
            updateCounts();
            updateRegionOptions();
            updateRegionFilter();
            renderRestaurants();
            checkPWAInstall();
        };

        // PWA ì„¤ì¹˜ ì²´í¬
        function checkPWAInstall() {
            // ëª¨ë°”ì¼ì—ì„œë§Œ ì„¤ì¹˜ ë°°ë„ˆ í‘œì‹œ
            if (/Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                document.getElementById('install-banner').style.display = 'block';
            }
        }

        // PWA ì„¤ì¹˜ ë°©ë²• ì•ˆë‚´
function showInstallInstructions() {
    const instructions = `
ğŸ“± ë°”íƒ•í™”ë©´ì— ì¶”ê°€ ë°©ë²•:

ğŸ¤– ì•ˆë“œë¡œì´ë“œ Chrome:
1. ìš°ìƒë‹¨ â‹® ë©”ë‰´ í´ë¦­
2. "ë¶ë§ˆí¬" ì„ íƒ
3. ë³„í‘œ â­ ì•„ì´ì½˜ í´ë¦­
4. ë˜ëŠ” "ì¦ê²¨ì°¾ê¸°ì— ì¶”ê°€" ì„ íƒ

ğŸ ì•„ì´í° Safari:
1. í•˜ë‹¨ ê³µìœ  ë²„íŠ¼ ğŸ“¤ í´ë¦­
2. "ë¶ë§ˆí¬ì— ì¶”ê°€" ì„ íƒ
3. ë˜ëŠ” "ì¦ê²¨ì°¾ê¸°ì— ì¶”ê°€" ì„ íƒ

ğŸ’¡ ë” í¸í•œ ë°©ë²•:
- ì´ í˜ì´ì§€ë¥¼ ì¦ê²¨ì°¾ê¸°ì— ì €ì¥
- ë°”íƒ•í™”ë©´ì— ë°”ë¡œê°€ê¸° ë§Œë“¤ê¸°
- ë¸Œë¼ìš°ì € í™ˆí™”ë©´ ì„¤ì •

ê·¸ëŸ¬ë©´ ì‰½ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆì–´ìš”! ğŸ‰
    `;
    alert(instructions);
}

        // ê´€ë¦¬ì ëª¨ë“œ í† ê¸€
        function toggleAdmin() {
            isAdminMode = !isAdminMode;
            const adminSection = document.getElementById('admin-section');
            const adminText = document.getElementById('admin-text');
            
    if (isAdminMode) {
        adminSection.style.display = 'block';
        adminText.textContent = 'ê´€ë¦¬ëª¨ë“œ OFF';
    } else {
               adminSection.style.display = 'none';
               adminText.textContent = 'ê´€ë¦¬ëª¨ë“œ ON';
               hideForm();
               hideRegionForm();
           }
           renderRestaurants();
       }

       // ì§€ì—­ ì¶”ê°€ í¼ ê´€ë ¨
       function showRegionForm() {
           document.getElementById('region-form').style.display = 'block';
       }

       function hideRegionForm() {
           document.getElementById('region-form').style.display = 'none';
           document.getElementById('new-region').value = '';
       }

       function addRegion() {
           const newRegion = document.getElementById('new-region').value.trim();
           if (!newRegion) {
               alert('ì§€ì—­ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!');
               return;
           }
           
           if (availableRegions.includes(newRegion)) {
               alert('ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì§€ì—­ì…ë‹ˆë‹¤!');
               return;
           }
           
           availableRegions.push(newRegion);
           availableRegions.sort(); // ê°€ë‚˜ë‹¤ìˆœ ì •ë ¬
           updateRegionOptions();
           updateRegionFilter();
           hideRegionForm();
           alert(`${newRegion} ì§€ì—­ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰`);
       }

       // ë§›ì§‘ í¼ ê´€ë ¨
       function showForm() {
           document.getElementById('add-form').style.display = 'block';
           document.getElementById('form-title').textContent = editingId ? 'ğŸ”§ ë§›ì§‘ ì •ë³´ ìˆ˜ì •' : 'âœ¨ ìƒˆ ë§›ì§‘ ì¶”ê°€';
           document.getElementById('save-btn-text').textContent = editingId ? 'ìˆ˜ì • ì™„ë£Œ' : 'ë§›ì§‘ ì¶”ê°€';
       }

       function hideForm() {
           document.getElementById('add-form').style.display = 'none';
           clearForm();
           editingId = null;
       }

       function clearForm() {
           ['name', 'region', 'category', 'specialty', 'price', 'address', 'phone', 'hours', 'parking', 'description', 'menu-details'].forEach(id => {
               document.getElementById(id).value = '';
           });
           document.getElementById('rating').value = '5';
       }

       // ì§€ì—­ ì˜µì…˜ ì—…ë°ì´íŠ¸
       function updateRegionOptions() {
           const regionSelect = document.getElementById('region');
           regionSelect.innerHTML = '<option value="">ì§€ì—­ ì„ íƒ (í•„ìˆ˜)</option>';
           availableRegions.forEach(region => {
               regionSelect.innerHTML += `<option value="${region}">${region}</option>`;
           });
       }

       function updateRegionFilter() {
           const regionFilter = document.getElementById('region-filter');
           const existingRegions = [...new Set(restaurants.map(r => r.region))].sort();
           
           regionFilter.innerHTML = '<option value="">ì „ì²´ ì§€ì—­</option>';
           existingRegions.forEach(region => {
               regionFilter.innerHTML += `<option value="${region}">${region}</option>`;
           });
       }

       // ë§›ì§‘ ì €ì¥
       function saveRestaurant() {
           const name = document.getElementById('name').value.trim();
           const region = document.getElementById('region').value;
           const specialty = document.getElementById('specialty').value.trim();
           
           if (!name || !region || !specialty) {
               alert('ë§›ì§‘ëª…, ì§€ì—­, ëŒ€í‘œë©”ë‰´ëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤!');
               return;
           }

           const restaurant = {
               id: editingId || Math.max(...restaurants.map(r => r.id), 0) + 1,
               name: name,
               region: region,
               category: document.getElementById('category').value || 'ê¸°íƒ€',
               specialty: specialty,
               price: document.getElementById('price').value.trim() || 'ê°€ê²© ë¬¸ì˜',
               rating: parseFloat(document.getElementById('rating').value),
               address: document.getElementById('address').value.trim() || 'ì£¼ì†Œ ë¯¸ì •',
               phone: document.getElementById('phone').value.trim() || 'ì „í™”ë²ˆí˜¸ ë¯¸ì •',
               hours: document.getElementById('hours').value.trim() || 'ì˜ì—…ì‹œê°„ ë¬¸ì˜',
               parking: document.getElementById('parking').value.trim() || 'ì£¼ì°¨ ì •ë³´ ì—†ìŒ',
               description: document.getElementById('description').value.trim() || '',
               menuDetails: document.getElementById('menu-details').value.trim() || '',
               criteria: ['ì‚¬ìš©ì ì¶”ê°€']
           };

           if (editingId) {
               const index = restaurants.findIndex(r => r.id === editingId);
               restaurants[index] = restaurant;
               alert('ë§›ì§‘ ì •ë³´ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤! âœ…');
           } else {
               restaurants.push(restaurant);
               alert('ìƒˆ ë§›ì§‘ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰');
           }

           hideForm();
           updateCounts();
           updateRegionFilter();
           filterRestaurants();
       }

       // ë§›ì§‘ ìˆ˜ì •
       function editRestaurant(id) {
           const restaurant = restaurants.find(r => r.id === id);
           if (!restaurant) return;

           editingId = id;
           document.getElementById('name').value = restaurant.name;
           document.getElementById('region').value = restaurant.region;
           document.getElementById('category').value = restaurant.category || '';
           document.getElementById('specialty').value = restaurant.specialty;
           document.getElementById('price').value = restaurant.price || '';
           document.getElementById('rating').value = restaurant.rating || 5;
           document.getElementById('address').value = restaurant.address || '';
           document.getElementById('phone').value = restaurant.phone || '';
           document.getElementById('hours').value = restaurant.hours || '';
           document.getElementById('parking').value = restaurant.parking || '';
           document.getElementById('description').value = restaurant.description || '';
           document.getElementById('menu-details').value = restaurant.menuDetails || '';
           showForm();
       }

       // ë§›ì§‘ ì‚­ì œ
       function deleteRestaurant(id) {
           if (confirm('ì •ë§ ì´ ë§›ì§‘ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
               restaurants = restaurants.filter(r => r.id !== id);
               alert('ë§›ì§‘ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
               updateCounts();
               updateRegionFilter();
               filterRestaurants();
           }
       }

       // ê°œìˆ˜ ì—…ë°ì´íŠ¸
       function updateCounts() {
           document.getElementById('total-count').textContent = restaurants.length;
           document.getElementById('filtered-count').textContent = filteredRestaurants.length;
       }

       // í•„í„°ë§ ê¸°ëŠ¥
       function filterRestaurants() {
           const searchTerm = document.getElementById('search').value.toLowerCase();
           const regionFilter = document.getElementById('region-filter').value;
           
           filteredRestaurants = restaurants.filter(restaurant => {
               const matchesSearch = !searchTerm || 
                   restaurant.name.toLowerCase().includes(searchTerm) ||
                   restaurant.specialty.toLowerCase().includes(searchTerm) ||
                   restaurant.region.toLowerCase().includes(searchTerm) ||
                   (restaurant.description && restaurant.description.toLowerCase().includes(searchTerm)) ||
                   (restaurant.menuDetails && restaurant.menuDetails.toLowerCase().includes(searchTerm));
               
               const matchesRegion = !regionFilter || restaurant.region === regionFilter;
               
               return matchesSearch && matchesRegion;
           });
           
           updateCounts();
           renderRestaurants();
       }

       // í‰ì  í‘œì‹œ
       function renderStars(rating) {
           const fullStars = Math.floor(rating);
           const hasHalf = rating % 1 !== 0;
           let stars = '';
           
           for (let i = 0; i < fullStars; i++) {
               stars += 'â­';
           }
           if (hasHalf) {
               stars += 'â­';
           }
           
           return `<span style="color: #fbbf24;">${stars}</span> <span style="color: #6b7280;">(${rating})</span>`;
       }

       // ë§›ì§‘ ë Œë”ë§
       function renderRestaurants() {
           const container = document.getElementById('restaurants-container');
           const noResults = document.getElementById('no-results');
           
           if (filteredRestaurants.length === 0) {
               container.style.display = 'none';
               noResults.style.display = 'block';
               return;
           }
           
           container.style.display = 'grid';
           noResults.style.display = 'none';
           
           container.innerHTML = filteredRestaurants.map(restaurant => `
               <div class="restaurant-card">
                   <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px;">
                       <div class="restaurant-name">${restaurant.name}</div>
                       ${isAdminMode ? `
                           <div class="admin-actions">
                               <button class="icon-btn" onclick="editRestaurant(${restaurant.id})" title="ìˆ˜ì •">âœï¸</button>
                               <button class="icon-btn" onclick="deleteRestaurant(${restaurant.id})" title="ì‚­ì œ">ğŸ—‘ï¸</button>
                           </div>
                       ` : ''}
                   </div>
                   
                   <span class="region-tag">${restaurant.region}</span>
                   ${restaurant.category ? `<span class="category-tag">${restaurant.category}</span>` : ''}
                   
                   <div class="rating">${renderStars(restaurant.rating)}</div>
                   <div class="specialty">${restaurant.specialty}</div>
                   
                   ${restaurant.description ? `<div class="description">${restaurant.description}</div>` : ''}
                   
                   <div class="price">ğŸ’° ${restaurant.price}</div>
                   
                   ${restaurant.phone && restaurant.phone !== 'ì „í™”ë²ˆí˜¸ ë¯¸ì •' ? `<div style="color: #059669; margin-bottom: 10px;">ğŸ“ ${restaurant.phone}</div>` : ''}
                   
                   ${restaurant.hours && restaurant.hours !== 'ì˜ì—…ì‹œê°„ ë¬¸ì˜' ? `<div style="color: #6b7280; font-size: 0.9rem; margin-bottom: 10px;">ğŸ•’ ${restaurant.hours}</div>` : ''}
                   
                   ${restaurant.parking && restaurant.parking !== 'ì£¼ì°¨ ì •ë³´ ì—†ìŒ' ? `<div style="color: #6b7280; font-size: 0.9rem; margin-bottom: 10px;">ğŸ…¿ï¸ ${restaurant.parking}</div>` : ''}
                   
                   ${restaurant.menuDetails ? `
                       <div style="background: #f9fafb; padding: 10px; border-radius: 8px; margin-bottom: 15px;">
                           <h4 style="font-size: 0.9rem; color: #374151; margin-bottom: 5px;">ğŸ“‹ ë©”ë‰´ ì •ë³´:</h4>
                           <div style="color: #6b7280; font-size: 0.8rem;">${restaurant.menuDetails}</div>
                       </div>
                   ` : ''}
                   
                   ${restaurant.criteria ? `
                       <div class="criteria">
                           ${restaurant.criteria.map(c => `<span class="criteria-tag">${c}</span>`).join('')}
                       </div>
                   ` : ''}
                   
                   <button class="map-btn" onclick="openMap('${restaurant.address}', '${restaurant.name}')">
                       ğŸ“ ë„¤ì´ë²„ ì§€ë„ì—ì„œ ë³´ê¸°
                   </button>
               </div>
           `).join('');
       }

       // ë„¤ì´ë²„ ì§€ë„ ì—´ê¸°
       function openMap(address, name) {
           console.log('ğŸ—ºï¸ ì§€ë„ ì—´ê¸°:', name, address);
           const query = encodeURIComponent(address + ' ' + name);
           const url = `https://map.naver.com/v5/search/${query}`;
           window.open(url, '_blank');
       }

       // ë””ë²„ê¹…
       console.log('ğŸ“Š ì´ˆê¸° ë°ì´í„°:', restaurants.length, 'ê°œ ë§›ì§‘');
       console.log('ğŸ¢ ì‚¬ìš© ê°€ëŠ¥í•œ ì§€ì—­:', availableRegions.length, 'ê°œ');
   </script>
</body>
</html>